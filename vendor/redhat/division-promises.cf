#
# *cfdivisions_bundlesequence = redhat_menu
# *cfdivisions_depends = 
#

body file control
{
    namespace => "common_divisions";
}

bundle common redhat_common {
  classes:
    redhat|fedora|rhel|centos::
      "redhat_derivat" 
        expression => "any";
}

bundle agent redhat_menu
{
  methods:
    redhat_derivat::
      "packageing" usebundle =>rpm_package_arch; 
}

bundle agent rpm_package_arch
{
  classes:
    redhat_derivat.64_bit::
      "rpm_x86_64" expression => "any";
    redhat_derivat.32_bit::
      "rpm_i386"   expression => "any";

  vars:
    rpm_x86_64::
      "current" string => "x86_64";
    rpm_i386::
      "current" string => "i386";
  reports:
    cfengine.(rpm_x86_64|rpm_i386)::
      "RPM-architecture is $(current)";
}

